diff --git a/CMakeLists.txt b/CMakeLists.txt
index 55056731..9d3038be 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -22,7 +22,8 @@ if (POLICY CMP0156)
   cmake_policy(SET CMP0156 NEW)
 endif()
 
-set(OMIM_ROOT ${CMAKE_SOURCE_DIR})
+# Use CMAKE_CURRENT_SOURCE_DIR so this works when added as subdirectory
+set(OMIM_ROOT ${CMAKE_CURRENT_SOURCE_DIR})
 set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${OMIM_ROOT}/cmake")
 
 set(CMAKE_POSITION_INDEPENDENT_CODE ON)
@@ -170,7 +171,8 @@ if (NOT PLATFORM_IPHONE AND NOT PLATFORM_ANDROID AND NOT SKIP_QT)
 endif()
 
 # To allow #include "base/file_name.hpp" in all sources.
-include_directories("${CMAKE_HOME_DIRECTORY}" "${CMAKE_HOME_DIRECTORY}/libs" "${CMAKE_HOME_DIRECTORY}/tools")
+# Use OMIM_ROOT instead of CMAKE_HOME_DIRECTORY so this works when added as subdirectory
+include_directories("${OMIM_ROOT}" "${OMIM_ROOT}/libs" "${OMIM_ROOT}/tools")
 
 if (USE_PCH)
   message(STATUS "Precompiled headers are ON")
@@ -255,6 +257,6 @@ endif()
 
 omim_add_test_subdirectory(libs/qt_tstfrm)
 
-if (PLATFORM_ANDROID)
+if (PLATFORM_ANDROID AND NOT SKIP_ANDROID_JNI)
   add_subdirectory(android/sdk/src/main/cpp)
 endif()
