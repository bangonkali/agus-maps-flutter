diff --git a/libs/platform/CMakeLists.txt b/libs/platform/CMakeLists.txt
index c26e864..7d421ac 100644
--- a/libs/platform/CMakeLists.txt
+++ b/libs/platform/CMakeLists.txt
@@ -90,7 +90,20 @@ elseif(${PLATFORM_ANDROID})
     platform_unix_impl.hpp
     trace_android.cpp
   )
-else() # neither iPhone nor Android
+elseif(SKIP_QT AND ${PLATFORM_WIN})
+  # Windows build without Qt (for Flutter plugin)
+  append(SRC
+    gui_thread_win.cpp
+    localization_dummy.cpp
+    network_policy_dummy.cpp
+    http_client_curl.cpp
+    http_uploader_background_dummy.cpp
+    http_uploader_dummy.cpp
+    locale_std.cpp
+    platform_win.cpp
+    secure_storage_dummy.cpp
+  )
+else() # Desktop with Qt (Linux, Windows Qt app, macOS Qt app)
   # Find bash first, on Windows it can be either in Git or in WSL
   find_program(BASH bash REQUIRED HINTS "$ENV{ProgramFiles}/Git/bin")
   # Generate version header file.
@@ -175,9 +188,9 @@ endif()
 target_link_libraries(${PROJECT_NAME}
   geometry  # mercator::YToLat
   coding
-  $<$<BOOL:${PLATFORM_DESKTOP}>:Qt6::Core>
-  $<$<BOOL:${PLATFORM_LINUX}>:Qt6::Network>
-  $<$<BOOL:${PLATFORM_WIN}>:Qt6::Network>
+  $<$<AND:$<BOOL:${PLATFORM_DESKTOP}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Core>
+  $<$<AND:$<BOOL:${PLATFORM_LINUX}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Network>
+  $<$<AND:$<BOOL:${PLATFORM_WIN}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Network>
   $<$<BOOL:${PLATFORM_WIN}>:shlwapi>  # PathIsDirectoryEmptyA
   $<$<BOOL:${PLATFORM_MAC}>:
     -framework\ Foundation

