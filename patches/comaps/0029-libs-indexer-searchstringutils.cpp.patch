diff --git a/libs/indexer/search_string_utils.cpp b/libs/indexer/search_string_utils.cpp
index df5114f..5d36773 100644
--- a/libs/indexer/search_string_utils.cpp
+++ b/libs/indexer/search_string_utils.cpp
@@ -143,7 +143,8 @@ void TransliterateHiraganaToKatakana(UniString & s)
 
 size_t GetMaxErrorsForToken(UniString const & token)
 {
-  bool const digitsOnly = std::all_of(token.begin(), token.end(), ::isdigit);
+  auto isDigit = [](auto c) { return std::isdigit(static_cast<unsigned char>(c)); };
+  bool const digitsOnly = std::all_of(token.begin(), token.end(), isDigit);
   if (digitsOnly)
     return 0;
   return GetMaxErrorsForTokenLength(token.size());

