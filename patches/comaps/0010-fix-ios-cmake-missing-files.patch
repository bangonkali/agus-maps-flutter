diff --git a/libs/platform/CMakeLists.txt b/libs/platform/CMakeLists.txt
index 10ab3009..1caa2d53 100644
--- a/libs/platform/CMakeLists.txt
+++ b/libs/platform/CMakeLists.txt
@@ -90,7 +90,26 @@ elseif(${PLATFORM_ANDROID})
     platform_unix_impl.hpp
     trace_android.cpp
   )
-else() # neither iPhone nor Android
+elseif(SKIP_QT AND ${PLATFORM_MAC})
+  # macOS build without Qt (for Flutter plugin)
+  append(SRC
+    gui_thread_apple.mm
+    http_client_apple.mm
+    http_thread_apple.h
+    http_thread_apple.mm
+    http_uploader_apple.mm
+    http_uploader_background_dummy.cpp
+    locale.mm
+    localization_dummy.cpp
+    network_policy_dummy.cpp
+    platform_mac.mm
+    platform_unix_impl.cpp
+    platform_unix_impl.hpp
+    secure_storage_dummy.cpp
+    socket_apple.mm
+    http_session_manager.mm
+  )
+else() # Desktop with Qt (Linux, Windows, macOS Qt app)
   # Find bash first, on Windows it can be either in Git or in WSL
   find_program(BASH bash REQUIRED HINTS "$ENV{ProgramFiles}/Git/bin")
   # Generate version header file.
@@ -175,9 +194,9 @@ endif()
 target_link_libraries(${PROJECT_NAME}
   geometry  # mercator::YToLat
   coding
-  $<$<BOOL:${PLATFORM_DESKTOP}>:Qt6::Core>
-  $<$<BOOL:${PLATFORM_LINUX}>:Qt6::Network>
-  $<$<BOOL:${PLATFORM_WIN}>:Qt6::Network>
+  $<$<AND:$<BOOL:${PLATFORM_DESKTOP}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Core>
+  $<$<AND:$<BOOL:${PLATFORM_LINUX}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Network>
+  $<$<AND:$<BOOL:${PLATFORM_WIN}>,$<NOT:$<BOOL:${SKIP_QT}>>>:Qt6::Network>
   $<$<BOOL:${PLATFORM_WIN}>:shlwapi>  # PathIsDirectoryEmptyA
   $<$<BOOL:${PLATFORM_MAC}>:
     -framework\ Foundation
